<!------------------------------------------------------------------------------
// Copyright (c) 2023 RHEA System S.A.
// 
//		Authors: Justine Veirier d'aiguebonne, Sam Gerené, Alex Vorobiev, Alexander van Delft
//		
//		This file is part of COMET WEB Community Edition
//		The COMET WEB Community Edition is the RHEA Web Application implementation of ECSS-E-TM-10-25 Annex A and Annex C.
//		
//		The COMET WEB Community Edition is free software; you can redistribute it and/or
//		modify it under the terms of the GNU Affero General Public
//		License as published by the Free Software Foundation; either
//		version 3 of the License, or (at your option) any later version.
//		
//		The COMET WEB Community Edition is distributed in the hope that it will be useful,
//		but WITHOUT ANY WARRANTY; without even the implied warranty of
//		MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
//		Affero General Public License for more details.
//		
//		You should have received a copy of the GNU Affero General Public License
//		along with this program. If not, see http://www.gnu.org/licenses/.
------------------------------------------------------------------------------->
@using COMETwebapp.Enumerations
@inherits DisposableComponent

<EditForm Context="editFormContext" Model="@(this.ViewModel.AuthenticationDto)" OnValidSubmit="this.ExecuteLogin">
	<DataAnnotationsValidator/>
	<DxFormLayout CaptionPosition="CaptionPosition.Vertical">
		<DxFormLayoutItem Caption="Source Address:" ColSpanLg="12">
			<Template>
				<DxTextBox Id="sourceaddress" @bind-Text="@(this.ViewModel.AuthenticationDto.SourceAddress)"
				           ClearButtonDisplayMode="DataEditorClearButtonDisplayMode.Auto"
				           NullText="Enter the url for the server"/>
			</Template>
		</DxFormLayoutItem>
		<DxFormLayoutItem Caption="UserName:" BeginRow="true" ColSpanLg="12">
			<Template>
				<DxTextBox Id="username" @bind-Text="@(this.ViewModel.AuthenticationDto.UserName)"
				           ClearButtonDisplayMode="DataEditorClearButtonDisplayMode.Auto"
				           NullText="Enter your username"/>
			</Template>
		</DxFormLayoutItem>
		<DxFormLayoutItem Caption="Password:" BeginRow="true" ColSpanLg="12">
			<Template>
				<DxTextBox Id="password" @bind-Text="@(this.ViewModel.AuthenticationDto.Password)"
				           ClearButtonDisplayMode="DataEditorClearButtonDisplayMode.Auto"
				           NullText="Enter your password"
				           Password="true"/>
			</Template>
		</DxFormLayoutItem>
	</DxFormLayout>
	<ValidationSummary/>

	@if (!string.IsNullOrEmpty(this.ErrorMessage))
	{
		<div class="form-group row m-top-10px">
			<label class="text-danger">@this.ErrorMessage</label>
		</div>
	}

	<div class="row">
		<div class="col-md-12 text-center">
			<DxButton Id="connectbtn" Text="@(this.LoginButtonDisplayText)" CssClass="btn btn-connect m-top-10px"
			          Enabled="@this.LoginEnabled"
			          SubmitFormOnClick="true"/>
		</div>
	</div>

</EditForm>